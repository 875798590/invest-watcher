<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.haoshen.money.mapper.RealTimeMarketMapper">

    <resultMap id="realTimeMarketMap" type="com.haoshen.money.entity.RealTimeMarket">
        <id property="id" column="id" />
        <result property="investId" column="invest_id" />
        <result property="name" column="name" />
        <result property="buy" column="buy" />
        <result property="sell" column="sell" />
        <result property="createdAt" column="created_at" />
        <result property="updatedAt" column="updated_at" />
    </resultMap>

    <insert id = "insert" parameterType="realTimeMarket">
        insert into invest_real_time_market(invest_id, name, buy, sell, created_at, updated_at)
          values(#{investId}, #{name}, #{buy}, #{sell}, now(), now())
	</insert>

    <update id="update" parameterType="realTimeMarket">
        update invest_real_time_market set
            <if test="investId != null">
                invest_id = #{investId},
            </if>
            <if test="name != null">
                name = #{name},
            </if>
            <if test="buy != null">
                buy = #{buy},
            </if>
            <if test="sell != null">
                sell = #{sell},
            </if>
                updated_at = now()
         where id = #{id}
	</update>

    <select id="getById" parameterType="java.lang.Integer" resultMap="realTimeMarketMap">
        select * from invest_real_time_market where id = #{id}
	</select>

    <select id="getAll" resultMap="realTimeMarketMap">
		select * from invest_real_time_market
	</select>
</mapper>